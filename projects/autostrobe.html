<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>projects:autostrobe</title>
  <link rel="stylesheet" media="all" type="text/css" href="../all.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="../screen.css" />
  <link rel="stylesheet" media="print" type="text/css" href="../print.css" />
  <link rel="stylesheet" media="all" type="text/css" href="../export.css" />
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#automatic_stroboscope">Automatic Stroboscope</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#next_steps">Next Steps</a></div></li>
<li class="level2"><div class="li"><a href="#circuits">Circuits</a></div></li>
<li class="level2"><div class="li"><a href="#demo_partsexplanations">Demo Parts/Explanations</a></div></li>
<li class="level2"><div class="li"><a href="#source_separation">Source Separation</a></div></li>
<li class="level2"><div class="li"><a href="#how_to_detect_pitch">How to detect &quot;pitch&quot;</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#calibrationpulse_type">Calibration / Pulse Type</a></div></li>
<li class="level3"><div class="li"><a href="#laser">Laser</a></div></li>
<li class="level3"><div class="li"><a href="#radarultrasonic_using_doppler_effect">Radar / Ultrasonic, using Doppler Effect</a></div></li>
<li class="level3"><div class="li"><a href="#emitted_sound">Emitted Sound</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#flashing_things_really_fast">Flashing Things Really Fast</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#making_your_code_right">Making Your Code Right</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="automatic_stroboscope">Automatic Stroboscope</h1>
<div class="level1">

<p>
<a href="../_media/projects/strobe.jpg" class="media" title="projects:strobe.jpg"><img src="../_media/projects/strobe.jpg" class="mediaright" align="right" alt="" width="200" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Automatic Stroboscope&quot;,&quot;hid&quot;:&quot;automatic_stroboscope&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-68&quot;} -->
<h2 class="sectionedit2" id="next_steps">Next Steps</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> DUUUDE, do it on the smartphone! <a href="http://www.youtube.com/user/johnhmeyer123" class="urlextern" title="http://www.youtube.com/user/johnhmeyer123" rel="ugc nofollow">This guy did it for iPhone</a>, and <a href="http://www.appszoom.com/android_developer/thepenguin77_cnghe.html" class="urlextern" title="http://www.appszoom.com/android_developer/thepenguin77_cnghe.html" rel="ugc nofollow">this guy did it for Android</a>. And you have a tablet now too!</div>
</li>
<li class="level1"><div class="li"> Some stackoverflow post too (with code): <a href="http://stackoverflow.com/questions/6068803/how-turn-on-camera-flash-light-programmatically-in-android" class="urlextern" title="http://stackoverflow.com/questions/6068803/how-turn-on-camera-flash-light-programmatically-in-android" rel="ugc nofollow">http://stackoverflow.com/questions/6068803/how-turn-on-camera-flash-light-programmatically-in-android</a></div>
</li>
<li class="level1"><div class="li"> Ahh, dial it in manually. But if plain audio won&#039;t do it for you, try doing something acoustic? Use speaker and microphone to get doppler shift or something…</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Next Steps&quot;,&quot;hid&quot;:&quot;next_steps&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;69-648&quot;} -->
<h2 class="sectionedit3" id="circuits">Circuits</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Photodiode Amplifier: <a href="http://www.thorlabs.com/tutorials.cfm?tabID=31760" class="urlextern" title="http://www.thorlabs.com/tutorials.cfm?tabID=31760" rel="ugc nofollow">1</a>. Uses an <a href="http://resenv.media.mit.edu/classes/MAS836/bias.pdf" class="urlextern" title="http://resenv.media.mit.edu/classes/MAS836/bias.pdf" rel="ugc nofollow">op-amp circuit</a> and also need to add a <a href="http://en.wikipedia.org/wiki/High-pass_filter" class="urlextern" title="http://en.wikipedia.org/wiki/High-pass_filter" rel="ugc nofollow">high-pass filter</a> on it</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Circuits&quot;,&quot;hid&quot;:&quot;circuits&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;649-927&quot;} -->
<h2 class="sectionedit4" id="demo_partsexplanations">Demo Parts/Explanations</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="http://www.instructables.com/id/Bubble-Machine/" class="urlextern" title="http://www.instructables.com/id/Bubble-Machine/" rel="ugc nofollow">Bubble Machine</a>…ahhh, holes in a ring, shoulda known! </div>
</li>
<li class="level1"><div class="li"> Water droplets w/ consistent flow rate? Maybe there&#039;s another tutorial online. Need a nozzle or a speaker/subwoofer. <a href="http://www.instructables.com/id/How-to-build-your-very-own-Time-Fountain/?ALLSTEPS" class="urlextern" title="http://www.instructables.com/id/How-to-build-your-very-own-Time-Fountain/?ALLSTEPS" rel="ugc nofollow">http://www.instructables.com/id/How-to-build-your-very-own-Time-Fountain/?ALLSTEPS</a></div>
</li>
<li class="level1"><div class="li"> Ohh…light up a speaker moving!</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Demo Parts\/Explanations&quot;,&quot;hid&quot;:&quot;demo_partsexplanations&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;928-1316&quot;} -->
<h2 class="sectionedit5" id="source_separation">Source Separation</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> How would you separate human speech from a fly buzzing? (Hear a fly buzzing the background, and determine its pitch, even if it changes!)</div>
</li>
<li class="level1 node"><div class="li"> Similar to HW 3 for MLSP</div>
<ul>
<li class="level2"><div class="li"> Frequency spectrum of emitted sounds (regardless of pitch) is based on the harmonics it puts out. 2f, 3f, 4f, etc. If f increases by a little, the frequency does not shift, it shifts by multiples. To get around that, Bhiksha recommended taking the log of the frequency response, so the shift is just a shift, and not a linear shift on top of that.</div>
</li>
<li class="level2"><div class="li"> Model it as a draw from a shift urn and a draw from the frequency response urn and see how well it lines up with each frame from the frequency response. (build it off of some examples). </div>
</li>
<li class="level2"><div class="li"> Learn the probability distributions…you have to do something to normalize for the loudness, so draw multiple times from the frequency response urn with a certain probability.</div>
</li>
<li class="level2"><div class="li"> What were the lecture slides that Bhiksha had on restoring a telephone-line recording back to a good original recording by learning the bases of the instruments? Sorta like the lab you did in Advanced DSP with restoring the singers voice of Ave Maria or something.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Once you have a good model for the bee/fly, then you “set” that and learn the other bases on-the-fly so that you can get rid of human speech, etc.</div>
</li>
<li class="level1"><div class="li"> Okay…back to finals :)</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Source Separation&quot;,&quot;hid&quot;:&quot;source_separation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1317-2698&quot;} -->
<h2 class="sectionedit6" id="how_to_detect_pitch">How to detect &quot;pitch&quot;</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> First use a pc audio sound card if you can to debug sensors, determine algorithm, determine responses, etc. </div>
</li>
<li class="level1"><div class="li"> This PDF describes common amplifier things and tricks you can use. <a href="../_media/projects/reviewsoundcardphotogates.pdf" class="media mediafile mf_pdf" title="projects:reviewsoundcardphotogates.pdf">reviewsoundcardphotogates.pdf</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://sound.media.mit.edu/Papers/kdm-phdthesis.pdf" class="urlextern" title="http://sound.media.mit.edu/Papers/kdm-phdthesis.pdf" rel="ugc nofollow">PhD thesis on instrument recognition</a>, </div>
</li>
<li class="level1"><div class="li"> Detecting exact pitch, description from ctuner&#039;s readme file:</div>
</li>
</ul>
<pre class="code">How it works
============

I have included a How It Works section because none of the other open
source tuners that I have looked at give any explanation of the
algorithms used. This tuner uses an overlapped Fast Fourier Transform
together with the phase difference between sequential runs of the FFT
to measure the actual frequency accurately. It appears to be about as
accurate as the clock in the sound card.</pre>

<p>
<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp;jsessionid=0vBxP5dhkSyMm9bJnJcWQcjQvg5hDnbTLvLcBxqFT5QQjcyFhG7v!-864544984?arnumber=1292732&amp;contentType=Conference+Publications" class="urlextern" title="http://ieeexplore.ieee.org/xpl/articleDetails.jsp;jsessionid=0vBxP5dhkSyMm9bJnJcWQcjQvg5hDnbTLvLcBxqFT5QQjcyFhG7v!-864544984?arnumber=1292732&amp;contentType=Conference+Publications" rel="ugc nofollow">HMM analysis using Cepstral domain</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How to detect \&quot;pitch\&quot;&quot;,&quot;hid&quot;:&quot;how_to_detect_pitch&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;2699-3772&quot;} -->
<h3 class="sectionedit7" id="calibrationpulse_type">Calibration / Pulse Type</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Need to check the impulse response! Also, use a Pseudo-Random-Bit-Sequence for best distinguishability! <a href="http://www.techmind.org/audio/" class="urlextern" title="http://www.techmind.org/audio/" rel="ugc nofollow">http://www.techmind.org/audio/</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Calibration \/ Pulse Type&quot;,&quot;hid&quot;:&quot;calibrationpulse_type&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:7,&quot;range&quot;:&quot;3773-3946&quot;} -->
<h3 class="sectionedit8" id="laser">Laser</h3>
<div class="level3">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Laser&quot;,&quot;hid&quot;:&quot;laser&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:8,&quot;range&quot;:&quot;3947-3962&quot;} -->
<h3 class="sectionedit9" id="radarultrasonic_using_doppler_effect">Radar / Ultrasonic, using Doppler Effect</h3>
<div class="level3">
<ul>
<li class="level1 node"><div class="li"> Hard to do really fast on a microcontroller, <a href="http://www.hexamite.com/hetheory.htm" class="urlextern" title="http://www.hexamite.com/hetheory.htm" rel="ugc nofollow">but not impossible</a>. <img src="/lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" /></div>
<ul>
<li class="level2"><div class="li"> Uses some trick to get better speed resolution, maybe look at another website too?</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> I like <a href="../_media/projects/rc1498.pdf" class="media mediafile mf_pdf" title="projects:rc1498.pdf">this paper</a> and how it talks about using the CWT and SVM&#039;s for classification of birds by how they flap using radar! Nice…good to copy!</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Radar \/ Ultrasonic, using Doppler Effect&quot;,&quot;hid&quot;:&quot;radarultrasonic_using_doppler_effect&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:9,&quot;range&quot;:&quot;3963-4389&quot;} -->
<h3 class="sectionedit10" id="emitted_sound">Emitted Sound</h3>
<div class="level3">
<ul>
<li class="level1 node"><div class="li"> Similar topic, most doppler systems on the road to detect speed use doppler radar, and check the frequency of the returned signal. Similar to this: <a href="http://www.houston-radar.com/SS300-OEM-doppler-speed-sensor.php" class="urlextern" title="http://www.houston-radar.com/SS300-OEM-doppler-speed-sensor.php" rel="ugc nofollow">http://www.houston-radar.com/SS300-OEM-doppler-speed-sensor.php</a></div>
<ul>
<li class="level2"><div class="li"> They also make laser ones, but those seem to be foiled or something, idk. I think the real systems use lasers.</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> There are cheap laser tachometers, but it looks like their signal processing isn&#039;t that good. You need reflective tape?! <a href="http://dx.com/s/tachometer" class="urlextern" title="http://dx.com/s/tachometer" rel="ugc nofollow">http://dx.com/s/tachometer</a></div>
<ul>
<li class="level2"><div class="li"> Anyways, maybe I can make something similar, very similar to the laser mosquito thing from Intellectual Ventures (<a href="http://spectrum.ieee.org/consumer-electronics/gadgets/backyard-star-wars/0" class="urlextern" title="http://spectrum.ieee.org/consumer-electronics/gadgets/backyard-star-wars/0" rel="ugc nofollow">1</a>,<a href="http://www.scribd.com/doc/37127213/Make-23-Mosquito-Blaster" class="urlextern" title="http://www.scribd.com/doc/37127213/Make-23-Mosquito-Blaster" rel="ugc nofollow">2</a>). Sorta similar to <a href="http://www.scholarpedia.org/article/Bar_code_scanning" class="urlextern" title="http://www.scholarpedia.org/article/Bar_code_scanning" rel="ugc nofollow"> how they do barcode scanning</a> (detailed, but not that much new info)</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Randy suggested a current follower sort of thing using an op-amp. Some of the optical diodes have the circuit already built in, basically it does boosting of the signal for fast response, since the original signal from the diode is not that high current.</div>
<ul>
<li class="level2"><div class="li"> Just use a photo diode. Should be good enough… over those other things</div>
</li>
<li class="level2"><div class="li"> Also need to be able to fluctuate the laser diode</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Not sure why I want to do this, but it sounds like it would combine all my skills pretty well and push me forward. </div>
</li>
<li class="level1"><div class="li"> <a href="../_media/projects/fan.wav" class="media mediafile mf_wav wikilink2" title="projects:fan.wav"> Fan Recording</a> Slow it way down and you can hear the fan blades! Matlab script that sorta works…</div>
</li>
</ul>
<dl class="code">
<dt><a href="/doku.php/projects/autostrobe?do=export_code&amp;codeblock=1" title="Download Snippet" class="mediafile mf_m">fund_freq.m</a></dt>
<dd><pre class="code">[fan,fs,bits] = wavread(&#039;fan.wav&#039;);

%plot(fan);
fft_length = 4000;
start = 20000;
for i = start:fft_length:length(fan)
    fan_s = fan(i:i+fft_length-1);

    fan_f = abs(fft(fan_s));
    fan_f_s = fan_f(1:200);

    plot(1:length(fan_f_s),fan_f_s);
    %x = xcorr(fan_s);
    %plot(x(fft_length:(fft_length)+300));
    
    pause;
    
end</pre>
</dd></dl>
<ul>
<li class="level1"><div class="li"> Way cool demo…flapper peening! YouTube Link! <a href="https://www.youtube.com/watch?v=0DgKKJM3RPE" class="urlextern" title="https://www.youtube.com/watch?v=0DgKKJM3RPE" rel="ugc nofollow">https://www.youtube.com/watch?v=0DgKKJM3RPE</a></div>
</li>
<li class="level1"><div class="li"> Also some more good demos (mostly water droplets, but also inspection) <iframe src="//www.youtube-nocookie.com/embed/4XkywLza-9E" height="143" width="255" class="vshare__none" allowfullscreen="" frameborder="0" scrolling="no"></iframe></div>
</li>
<li class="level1"><div class="li"> Vibration analysis, way cool! YouTube Link! <a href="https://www.youtube.com/watch?v=dGif0Ny0Gi8" class="urlextern" title="https://www.youtube.com/watch?v=dGif0Ny0Gi8" rel="ugc nofollow">https://www.youtube.com/watch?v=dGif0Ny0Gi8</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Emitted Sound&quot;,&quot;hid&quot;:&quot;emitted_sound&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:10,&quot;range&quot;:&quot;4390-6606&quot;} -->
<h2 class="sectionedit11" id="flashing_things_really_fast">Flashing Things Really Fast</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Apparently really easy?! </div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Flashing Things Really Fast&quot;,&quot;hid&quot;:&quot;flashing_things_really_fast&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:11,&quot;range&quot;:&quot;6607-6676&quot;} -->
<h3 class="sectionedit12" id="making_your_code_right">Making Your Code Right</h3>
<div class="level3">

</div>

<h4 id="flash_xenon_tube">Flash (Xenon) Tube</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Pretty good walkthrough site using a normal throwaway flash camera: <a href="http://repairfaq.ece.drexel.edu/sam/strbfaq.htm#strbnsc" class="urlextern" title="http://repairfaq.ece.drexel.edu/sam/strbfaq.htm#strbnsc" rel="ugc nofollow">http://repairfaq.ece.drexel.edu/sam/strbfaq.htm#strbnsc</a></div>
</li>
</ul>

</div>

<h4 id="led">LED</h4>
<div class="level4">
<ul>
<li class="level1 node"><div class="li"> <a href="http://laserpointerforums.com/f51/simple-linear-mosfet-dimming-circuit-pwm-70812.html" class="urlextern" title="http://laserpointerforums.com/f51/simple-linear-mosfet-dimming-circuit-pwm-70812.html" rel="ugc nofollow">How to do analog for a PWM&#039;ed laser</a>, includes power supply? </div>
<ul>
<li class="level2"><div class="li"> Andrew also suggested a multivibrator for some reason… <a href="http://en.wikipedia.org/wiki/Multivibrator#Monostable_multivibrator_circuit" class="urlextern" title="http://en.wikipedia.org/wiki/Multivibrator#Monostable_multivibrator_circuit" rel="ugc nofollow">http://en.wikipedia.org/wiki/Multivibrator#Monostable_multivibrator_circuit</a></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Making Your Code Right&quot;,&quot;hid&quot;:&quot;making_your_code_right&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:12,&quot;range&quot;:&quot;6677-&quot;} --></div></body>
</html>

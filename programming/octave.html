<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>programming:octave</title>
  <link rel="stylesheet" media="all" type="text/css" href="../all.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="../screen.css" />
  <link rel="stylesheet" media="print" type="text/css" href="../print.css" />
  <link rel="stylesheet" media="all" type="text/css" href="../export.css" />
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#programming_with_octave">Programming with Octave</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#quirks">Quirks</a></div></li>
<li class="level2"><div class="li"><a href="#connecting_ruby_to_octave">Connecting Ruby to Octave</a></div></li>
<li class="level2"><div class="li"><a href="#using_mex_files_in_octave_on_ubuntu">Using MEX Files in Octave on Ubuntu</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#building_octave_from_source_in_os_x">Building Octave from Source in OS X</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="programming_with_octave">Programming with Octave</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> A very similar programming language to Matlab. In most cases you should be able to port the code right over…</div>
</li>
<li class="level1"><div class="li"> However, “plot-ing” does not work very well for me on <abbr title="Operating System">OS</abbr> X or XP. Looks like I&#039;ll need to still develop in matlab.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Programming with Octave&quot;,&quot;hid&quot;:&quot;programming_with_octave&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-274&quot;} -->
<h2 class="sectionedit2" id="quirks">Quirks</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Some stolen from <a href="http://steelandsilicon.wordpress.com/2010/07/17/a-few-matlaboctave-notes/" class="urlextern" title="http://steelandsilicon.wordpress.com/2010/07/17/a-few-matlaboctave-notes/" rel="ugc nofollow">Steel and Silicon</a></div>
</li>
</ul>
<pre class="code c"><a href="http://www.opengroup.org/onlinepubs/009695399/functions/fflush.html"><span class="kw3">fflush</span></a><span class="br0">&#40;</span>stdout<span class="br0">&#41;</span> <span class="co1">//Clears out the buffer as Octave doesn't print them out right away.</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Quirks&quot;,&quot;hid&quot;:&quot;quirks&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;275-511&quot;} -->
<h2 class="sectionedit3" id="connecting_ruby_to_octave">Connecting Ruby to Octave</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="http://www.gnu.org/software/octave/doc/interpreter/Getting-Started-with-Mex_002dFiles.html" class="urlextern" title="http://www.gnu.org/software/octave/doc/interpreter/Getting-Started-with-Mex_002dFiles.html" rel="ugc nofollow">STARTING TUTORIAL</a></div>
</li>
</ul>
<pre class="code">mkoctfile --mex peakdet.c</pre>
<ul>
<li class="level1"><div class="li"> Running into some problems…fix is on <a href="https://rubyforge.org/tracker/index.php?func=detail&amp;aid=26425&amp;group_id=5166&amp;atid=19974" class="urlextern" title="https://rubyforge.org/tracker/index.php?func=detail&amp;aid=26425&amp;group_id=5166&amp;atid=19974" rel="ugc nofollow">this thread</a></div>
</li>
</ul>
<pre class="code c"><span class="co1">//Need to use some form of these flags</span>
sudo gem install octave<span class="sy0">-</span>ruby <span class="sy0">--</span> <span class="sy0">--</span>with<span class="sy0">-</span>octave<span class="sy0">-</span>include<span class="sy0">=/</span>usr<span class="sy0">/</span>include<span class="sy0">/</span>octave<span class="sy0">-</span>3.2.0<span class="sy0">/</span>octave
<span class="sy0">--</span>with<span class="sy0">-</span>octave<span class="sy0">-</span>lib<span class="sy0">=/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>octave<span class="sy0">-</span>3.2.0<span class="sy0">/</span>lib</pre>
<ul>
<li class="level1"><div class="li"> It appears that octave-ruby is choking on the new version of octave (3.2.X), as <a href="http://octave.1599824.n4.nabble.com/embedding-octave-3-2-0-td1636118.html" class="urlextern" title="http://octave.1599824.n4.nabble.com/embedding-octave-3-2-0-td1636118.html" rel="ugc nofollow">this thread</a> got the errors I was getting. I&#039;m not sure what the best thing to do is, but I&#039;m going to try deprecating octave and seeing if the connection works.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Connecting Ruby to Octave&quot;,&quot;hid&quot;:&quot;connecting_ruby_to_octave&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:3,&quot;range&quot;:&quot;512-1366&quot;} -->
<h2 class="sectionedit4" id="using_mex_files_in_octave_on_ubuntu">Using MEX Files in Octave on Ubuntu</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> 6/21: Just run the below operations</div>
</li>
</ul>
<pre class="code">&gt; sudo apt-get install octave octave-headers
&gt; octave
octave&gt; mkoctfile --mex mexfile.c</pre>
<ul>
<li class="level1 node"><div class="li"> (6/16) Ran into a good bit of problems getting Octave to use MEX files on the Mac. (something about not finding lgfortranbegin). The author suggested using a different dmg <a href="http://octave.1599824.n4.nabble.com/Installing-packages-on-Mac-OS-isn-t-working-td3519505.html" class="urlextern" title="http://octave.1599824.n4.nabble.com/Installing-packages-on-Mac-OS-isn-t-working-td3519505.html" rel="ugc nofollow">on this thread</a>, but then I got a bunch of complaints about 32-bit and 64-bit. Aaaargh. </div>
<ul>
<li class="level2"><div class="li"> Switching to just trying to get everything working on Ubuntu/Linux, since that&#039;s what we&#039;ll be using in the end for the server.</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using MEX Files in Octave on Ubuntu&quot;,&quot;hid&quot;:&quot;using_mex_files_in_octave_on_ubuntu&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:4,&quot;range&quot;:&quot;1367-2056&quot;} -->
<h3 class="sectionedit5" id="building_octave_from_source_in_os_x">Building Octave from Source in OS X</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Shamelessly copied and updated from <a href="http://wiki.octave.org/wiki.pl?OctaveForMac" class="urlextern" title="http://wiki.octave.org/wiki.pl?OctaveForMac" rel="ugc nofollow">Octave Wiki</a></div>
</li>
<li class="level1"><div class="li"> Step 5 (different source location):</div>
</li>
</ul>
<pre class="code">wget http://prdownloads.sourceforge.net/hpc/gfortran-snwleo-intel-bin.tar.gz?download
tar -xzf gfortran-snwleo-intel-bin.tar.gz
sudo cp -r ./usr/local/* /usr/local</pre>
<ul>
<li class="level1"><div class="li"> Step 6: sed</div>
</li>
</ul>
<pre class="code">wget ftp://ftp.gnu.org/gnu/sed/sed-4.2.1.tar.gz
tar -xzf sed-4.2.1.tar.gz
cd sed-4.2.1
./configure --prefix=/usr/local --with-included-regex --with-included-gettext
make &amp;&amp; sudo make install
sudo mv /usr/bin/sed /usr/bin/__sed</pre>
<ul>
<li class="level1"><div class="li"> Step 7: gawk</div>
</li>
</ul>
<pre class="code">wget http://ftp.gnu.org/pub/gnu/gawk/gawk-3.1.8.tar.gz
tar -xzf gawk-3.1.8.tar.gz
cd gawk-3.1.8
./configure --disable-nls --prefix=/usr/local
make &amp;&amp; sudo make install</pre>
<ul>
<li class="level1"><div class="li"> Step 8: readline</div>
</li>
</ul>
<pre class="code">wget http://ftp.gnu.org/pub/gnu/readline/readline-6.2.tar.gz
tar -xzf readline-6.2.tar.gz
cd readline-6.2
./configure --prefix=/usr/local --enable-shared
make &amp;&amp; sudo make install</pre>
<ul>
<li class="level1"><div class="li"> Step 9: gnuplot</div>
</li>
</ul>
<pre class="code">wget http://sourceforge.net/projects/gnuplot/files/gnuplot/4.4.3/gnuplot-4.4.3.tar.gz/download
tar -xzf gnuplot-4.4.3.tar.gz
cd gnuplot-4.4.3
./configure --prefix=/usr/local
make &amp;&amp; sudo make install</pre>
<ul>
<li class="level1"><div class="li"> Step 10: octave</div>
</li>
</ul>
<pre class="code">wget ftp://ftp.gnu.org/gnu/octave/octave-3.4.1.tar.gz
tar -xzf octave-3.4.1.tar.gz
cd octave-3.4.1
./configure --prefix=/usr/local --enable-shared --disable-readline
make &amp;&amp; make check &amp;&amp; sudo make install</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Building Octave from Source in OS X&quot;,&quot;hid&quot;:&quot;building_octave_from_source_in_os_x&quot;,&quot;codeblockOffset&quot;:4,&quot;secid&quot;:5,&quot;range&quot;:&quot;2057-&quot;} --></div></body>
</html>
